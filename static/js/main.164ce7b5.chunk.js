(this["webpackJsonpticker-solu"]=this["webpackJsonpticker-solu"]||[]).push([[0],{17:function(e,S,t){},18:function(e,S,t){},27:function(e,S,t){"use strict";t.r(S);var T=t(0),U=t.n(T),c=t(5),D=t.n(c),n=(t(17),t(18),t(3)),a=t(4),i=t(11),s=t(2),r={FETCH_EXCHANGE_LIST:"FETCH_EXCHANGE_LIST",SELECT_PAIR:"SELECT_PAIR",SET_TICKER_DATA:"SET_TICKER_DATA"},E={items:["1INCH:USD","1INCH:UST","AAABBB","AAVE:USD","AAVE:UST","ADABTC","ADAUSD","ADAUST","AIXUSD","AIXUST","ALBT:USD","ALBT:UST","ALGBTC","ALGUSD","ALGUST","AMPBTC","AMPUSD","AMPUST","ANCUSD","ANCUST","ANTBTC","ANTETH","ANTUSD","ATOBTC","ATOETH","ATOUSD","ATOUST","AVAX:BTC","AVAX:USD","AVAX:UST","AXSUSD","AXSUST","B21X:USD","B21X:UST","BALUSD","BALUST","BAND:USD","BAND:UST","BATBTC","BATETH","BATUSD","BATUST","BCHABC:USD","BCHN:USD","BEST:USD","BFTUSD","BMIUSD","BMIUST","BNTUSD","BOBA:USD","BOBA:UST","BOSON:USD","BOSON:UST","BSVBTC","BSVUSD","BTC:CNHT","BTC:XAUT","BTCEUR","BTCEUT","BTCGBP","BTCJPY","BTCMIM","BTCUSD","BTCUST","BTCXCH","BTGBTC","BTGUSD","BTSE:USD","BTTUSD","CELUSD","CELUST","CHEX:USD","CHSB:BTC","CHSB:USD","CHSB:UST","CHZUSD","CHZUST","CLOUSD","CNH:CNHT","COMP:USD","COMP:UST","CTKUSD","CTKUST","DAIBTC","DAIETH","DAIUSD","DATBTC","DATUSD","DCRUSD","DGBUSD","DOGBTC","DOGE:BTC","DOGE:USD","DOGE:UST","DOGUSD","DOGUST","DORA:USD","DORA:UST","DOTBTC","DOTUSD","DOTUST","DSHBTC","DSHUSD","DUSK:BTC","DUSK:USD","EDOBTC","EDOETH","EDOUSD","EGLD:USD","EGLD:UST","ENJUSD","EOSBTC","EOSDT:USD","EOSDT:UST","EOSETH","EOSEUR","EOSGBP","EOSJPY","EOSUSD","EOSUST","ESSUSD","ETCBTC","ETCUSD","ETCUST","ETH2X:ETH","ETH2X:USD","ETH2X:UST","ETH:XAUT","ETHBTC","ETHEUR","ETHEUT","ETHGBP","ETHJPY","ETHUSD","ETHUST","ETPBTC","ETPETH","ETPUSD","EURUST","EUSUSD","EUTEUR","EUTUSD","EUTUST","EXOUSD","FCLUSD","FCLUST","FETUSD","FETUST","FILUSD","FILUST","FORTH:USD","FORTH:UST","FTMUSD","FTMUST","FTTUSD","FTTUST","FUNUSD","GNOUSD","GNTUSD","GOTEUR","GOTUSD","GRTUSD","GRTUST","GTXUSD","GTXUST","HEZUSD","HEZUST","HMTUSD","HMTUST","ICEUSD","ICPBTC","ICPUSD","ICPUST","IDXUSD","IDXUST","IOTBTC","IOTETH","IOTEUR","IOTGBP","IOTJPY","IOTUSD","IQXUSD","IQXUST","JASMY:USD","JASMY:UST","JSTBTC","JSTUSD","JSTUST","KANUSD","KANUST","KNCBTC","KNCUSD","KSMUSD","KSMUST","LEOBTC","LEOEOS","LEOETH","LEOUSD","LEOUST","LINK:USD","LINK:UST","LRCUSD","LTCBTC","LTCUSD","LTCUST","LUNA:BTC","LUNA:USD","LUNA:UST","LYMUSD","MATIC:BTC","MATIC:USD","MATIC:UST","MIMUSD","MIMUST","MIRUSD","MIRUST","MKRUSD","MKRUST","MLNUSD","MNABTC","MNAUSD","MOBUSD","MOBUST","NEAR:USD","NEAR:UST","NEOBTC","NEOETH","NEOEUR","NEOGBP","NEOJPY","NEOUSD","NEOUST","NEXO:BTC","NEXO:USD","NEXO:UST","OCEAN:USD","OCEAN:UST","ODEUSD","OMGBTC","OMGETH","OMGUSD","OMNUSD","ORSUSD","OXYUSD","OXYUST","PASUSD","PAXUSD","PAXUST","PLANETS:USD","PLANETS:UST","PLUUSD","PNKETH","PNKUSD","QRDO:USD","QRDO:UST","QSHUSD","QTFBTC","QTFUSD","QTMBTC","QTMUSD","RBTBTC","RBTUSD","REEF:USD","REEF:UST","REPBTC","REPUSD","REQUSD","ROSE:USD","ROSE:UST","RRTUSD","SANBTC","SANETH","SANUSD","SHIB:USD","SHIB:UST","SNTUSD","SNXUSD","SNXUST","SOLBTC","SOLUSD","SOLUST","SPELL:MIM","SPELL:USD","SPELL:UST","STJUSD","SUKU:USD","SUKU:UST","SUNUSD","SUNUST","SUSHI:USD","SUSHI:UST","TERRAUST:USD","TERRAUST:UST","TESTBTC:TESTUSD","TESTBTC:TESTUSDT","TLOS:USD","TLOS:UST","TRXBTC","TRXETH","TRXEUR","TRXUSD","TRXUST","TSDUSD","TSDUST","UDCUSD","UDCUST","UNIUSD","UNIUST","UOPUSD","UOPUST","UOSBTC","UOSUSD","UST:CNHT","USTUSD","UTKUSD","VEEUSD","VELO:USD","VELO:UST","VETBTC","VETUSD","VETUST","VSYBTC","VSYUSD","WAVES:USD","WAVES:UST","WAXUSD","WBTUSD","WNCG:USD","WNCG:UST","XAUT:BTC","XAUT:USD","XAUT:UST","XCHUSD","XDCUSD","XDCUST","XLMBTC","XLMETH","XLMUSD","XLMUST","XMRBTC","XMRUSD","XMRUST","XRAUSD","XRDBTC","XRDUSD","XRPBTC","XRPUSD","XRPUST","XSNUSD","XTZBTC","XTZUSD","XTZUST","XVGUSD","YFIUSD","YFIUST","YGGUSD","ZCNUSD","ZECBTC","ZECUSD","ZILBTC","ZILUSD","ZRXBTC","ZRXETH","ZRXUSD"],selected_pair:"BTCUSD",ticker_data:{}},o=Object(a.b)({ticker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,S=arguments.length>1?arguments[1]:void 0;switch(S.type){case r.FETCH_EXCHANGE_LIST:return Object(s.a)(Object(s.a)({},e),{},{items:S.payload});case r.SELECT_PAIR:return Object(s.a)(Object(s.a)({},e),{},{selected_pair:S.payload});case r.SET_TICKER_DATA:return Object(s.a)(Object(s.a)({},e),{},{ticker_data:S.payload});default:return e}}}),C=[i.a],O=Object(a.d)(o,{},Object(a.c)(a.a.apply(void 0,C),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),l=t(6),d=function(e){return function(S){S({type:r.SET_TICKER_DATA,payload:e})}},B=t(1),A=Object(n.b)((function(e){return{exchangeList:e.ticker.items,selectedPair:e.ticker.selected_pair}}),{fetchExchangeList:function(e){return function(e){fetch("https://cors-anywhere.herokuapp.com/https://api-pub.bitfinex.com/v2/conf/pub:list:pair:exchange").then((function(e){return e.json()})).then((function(S){console.log(S),e({type:r.FETCH_EXCHANGE_LIST,payload:S[0]})})).catch((function(e){return console.log(e)}))}},selectPair:function(e){return function(S){console.log(e,"redux"),S({type:r.SELECT_PAIR,payload:e})}},setTickerData:d})((function(e){var S=Object(T.useState)(""),t=Object(l.a)(S,2),U=t[0],c=t[1];return Object(B.jsxs)("div",{className:"list-search",children:[Object(B.jsx)("input",{type:"text",name:"search",placeholder:"\uf002 Search...",value:U,onChange:function(e){return c(e.target.value.toUpperCase())}}),Object(B.jsx)("table",{children:e.exchangeList&&e.exchangeList.filter((function(e){return e.includes(U)})).map((function(S){return Object(B.jsxs)("tr",{onClick:function(){return t=S,e.selectPair(t),e.setTickerData({}),void c("");var t},children:[Object(B.jsx)("td",{children:Object(B.jsx)("img",{src:"https://static.bitfinex.com/images/icons/".concat(6===S.length?S.slice(0,3):S.split(":")[0],"-alt.svg"),width:"26px"})}),Object(B.jsx)("td",{children:S})]},S)}))})]})})),N=t(9),b=t.n(N),u=t(12),j={color:"rgb(228,74,67)"},h={color:"rgb(0,166,129)"},L=new WebSocket("ws://api-pub.bitfinex.com/ws/2"),X=Object(n.b)((function(e){return{exchangeList:e.ticker.items,selectedPair:e.ticker.selected_pair,tickerData:e.ticker.ticker_data}}),{setTickerData:d})((function(e){var S,t=Object(T.useState)(!0),U=Object(l.a)(t,2),c=U[0],D=U[1];Object(T.useEffect)((function(){var e=JSON.stringify({event:"subscribe",channel:"ticker",symbol:"tBTCUSD"});return L.onopen=function(){console.log("WebSocket client Connected"),L.send(e)},function(){i()}}),[]),Object(T.useEffect)((function(){return n(),function(){i()}}),[e.selected_pair]);var n=function(){var S=JSON.stringify({event:"subscribe",channel:"ticker",symbol:"t".concat(e.selectedPair)});L.onopen=function(){L.send(S),console.log("WebSocket client Connected"),D(!0)}},a=function(){var S=Object(u.a)(b.a.mark((function S(){var t;return b.a.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:return t=JSON.stringify({event:"subscribe",channel:"ticker",symbol:"t".concat(e.selectedPair)}),S.next=3,new WebSocket("ws://api-pub.bitfinex.com/ws/2");case 3:(L=S.sent).onopen=function(){L.send(t),console.log("WebSocket client Connected"),D(!0)};case 5:case"end":return S.stop()}}),S)})));return function(){return S.apply(this,arguments)}}(),i=function(){D(!1),L.close(1e3,"Work complete"),L.onclose=function(){e.setTickerData({}),console.log("WebSocket client Disconnected")}};return L.onmessage=function(S){if("string"===typeof S.data){var t=JSON.parse(S.data);"object"===typeof t[1]&&e.setTickerData({LastPrice:t[1][6],Vol:t[1][7],High:t[1][8],Low:t[1][9],DailyChange:t[1][4],DailyChangeRelative:t[1][5]})}},L.onclose=function(){e.setTickerData({}),console.log("WebSocket client Disconnected")},Object(B.jsxs)("div",{style:{width:"fit-content",margin:"0 auto"},children:[c?Object(B.jsx)("button",{onClick:i,children:"Disconnect Socket"}):Object(B.jsx)("button",{onClick:a,children:"Connect Socket"}),Object(B.jsxs)("div",{className:"ticker-container",children:[Object(B.jsx)("div",{className:"dc1",children:Object(B.jsx)("img",{src:"https://static.bitfinex.com/images/icons/".concat(6===e.selectedPair.length?e.selectedPair.slice(0,3):e.selectedPair.split(":")[0],"-alt.svg"),className:"image-width"})}),Object(B.jsxs)("div",{className:"dc2",children:[Object(B.jsx)("div",{className:"dd1 ddl",children:6===e.selectedPair.length?e.selectedPair.slice(0,3)+"/"+e.selectedPair.slice(3):e.selectedPair.split(":")[0]+"/"+e.selectedPair.split(":")[1]}),Object(B.jsxs)("div",{className:"dd2 ddl",children:[Object(B.jsx)("span",{className:"grey-text",children:"VOL"})," ",e.tickerData.Vol&&Math.abs(e.tickerData.Vol.toFixed(2))]}),Object(B.jsxs)("div",{className:"dd3 ddl",children:[Object(B.jsx)("span",{className:"grey-text",children:"HIGH"})," ",e.tickerData.High&&Math.abs(e.tickerData.High.toFixed(2))]})]}),Object(B.jsxs)("div",{className:"dc3",children:[Object(B.jsx)("div",{className:"dd1 ddr",children:e.tickerData.LastPrice?Math.abs(e.tickerData.LastPrice.toFixed(2)):c?"loading..":"Not Connected"}),Object(B.jsxs)("div",{className:"dd2 ddr",style:e.tickerData.DailyChange<0?j:h,children:[Math.abs(null===(S=e.tickerData.DailyChange)||void 0===S?void 0:S.toFixed(2)),e.tickerData.DailyChange<0?Object(B.jsx)("i",{class:"fa fa-caret-down fa-fw"}):Object(B.jsx)("i",{class:"fas fa-caret-up fa-fw"}),"(",Math.abs(100*e.tickerData.DailyChangeRelative).toFixed(2),"%)"]}),Object(B.jsxs)("div",{className:"dd3 ddr",children:[Object(B.jsx)("span",{className:"grey-text",children:"LOW"})," ",e.tickerData.Low&&Math.abs(e.tickerData.Low.toFixed(2))]})]})]})]})}));var R=function(){return Object(B.jsx)(n.a,{store:O,children:Object(B.jsxs)("div",{className:"App",children:[Object(B.jsx)("h1",{children:"SOLU TICKER"}),Object(B.jsx)(X,{}),Object(B.jsx)(A,{})]})})};D.a.render(Object(B.jsx)(U.a.StrictMode,{children:Object(B.jsx)(R,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.164ce7b5.chunk.js.map